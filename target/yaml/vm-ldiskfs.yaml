agents:
  - mgmtip: 10.5.21.70
    script: ./tgtagent.sh
    workdir: /tmp/target
    mode: active

  - mgmtip: 10.5.21.71
    script: ./tgtagent.sh
    workdir: /tmp/target
    mode: backup

lustre:
  fsname: "vmlfs01"
  mgsnids: [ 10.5.21.70@tcp, 10.5.21.71@tcp ]
  osdtype: ldiskfs

diskgroups:
  - name: mgtmdt0-disks
    diskdir: /dev/disk/nvme
    hostids: [ e7f12154 ]
    diskids: [ 0000:01:00.0-n1, 0000:01:00.0-n2 ]

  - name: ost0-disks
    diskdir: /dev/disk/nvme
    hostids: [ e7f12154 ]
    diskids: [ 0000:02:00.0-n1, 0000:02:00.0-n2, 0000:02:00.0-n3, 0000:c1:00.0-n1, 0000:c1:00.0-n2, 0000:c1:00.0-n3 ]

devices:
  - name: mgt-data
    type: raid1
    diskgroup: mgtmdt0-disks
    partsizes: [ 16MiB, 1GiB ]

  - name: mdt0-data
    type: raid1
    diskgroup: mgtmdt0-disks
    partsizes: [ 1GiB, 100% ]

  - name: ost0-journal
    type: raid1
    disknum: 3
    diskgroup: ost0-disks
    partsizes: [ 16MiB, 1GiB ]
  - name: ost0-data
    type: raid6
    diskgroup: ost0-disks
    partsizes: [ 1GiB, 100% ]

targets:
  - name: mgt
    nids: [ 10.5.21.70@tcp, 10.5.21.71@tcp ]
    devs: [ mgt-data ]

  - name: mdt0
    nids: [ 10.5.21.70@tcp, 10.5.21.71@tcp ]
    devs: [ mdt0-data ]

  - name: ost0
    nids: [ 10.5.21.71@tcp, 10.5.21.70@tcp ]
    devs: [ ost0-data, ost0-journal ]
